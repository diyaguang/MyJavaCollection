15.3.3 Nginx+Redis
（略）

第十六章 Spring Boot 和 Zookeeper
Zookeeper 分布式协调器，本身也是分布式的，保证高可用，分布式必备的基础服务。

16.1 Zookeeper
来源于 Apache Hadoop子项目，是一个 高性能，分布式的，开源应用协调服务，分布式应用可以基于此实现协调服务(同步，集群，领导选举，分布式配置管理，命名服务)。
使用文件系统目录树作为数据模型

特点：
1.简单的API和数据结构完成协调服务，Curator封装了API，直接提供了分布式协调服务。
2.分布式，至少3台zk服务器，避免单点故障
3.保证操作的时序性，每次更新都有时间记录，保证操作的时序性。
4.性能测试结果，可以处理分布式系统的管理协调任务，或胜任高并发量的业务协调处理。

16.1.1 ZooKeeper 的数据结构
提供命名空间，类似文件系统，每个节点都是通过路径来表示的，节点可以包含一定的数据（2M），节点可以用来存放业务信息，海波啊哈呢了更新的版本，时间戳。
特殊的节点是临时节点，创建节点的会话存在，节点就存在，会话结束，节点被删除
可以创建顺序节点，创建时增加一个序列号，递增

节点可以被监控，如果发生变化，删除节点或节点数据发生变化，客户端就会收到事件，监控失效，需要再次监控这个节点。

16.1.2 安装 ZooKeeper
解压后使用，在 zookeeper 进入 conf 目录，创建一个 zoo.cfg 文件，放入一些配置信息：
tickTime=2000   设置心跳事件，默认2秒，单位毫秒（心跳连接的内容为空包）
dataDir=../data   ZooKeeper保存内存快照，以及事务日志的目录
clientPort=2181   客户端应用连接的端口

进入 Bin目录，直接 启动即可。Windows中启动：bin>zkServer 使用 Ctrl+C 停止。 在 Linux中，./zkServer.sh start 启动，使用 ./zlServer.sh stop 停止
在 zkEnv 会设置默认的配置文件为 zoo.cfg，如果使用其他的配置文件，可以修改 zkEnv.cmd 或 zkEnv.sh

16.1.3 ZooKeeper 的基本命令


